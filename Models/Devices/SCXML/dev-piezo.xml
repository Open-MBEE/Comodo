<?xml version="1.0" encoding="UTF-8"?>

<scxml xmlns="http://www.w3.org/2005/07/scxml" xmlns:customActionDomain="http://my.custom-actions.domain/CUSTOM" version="1.0" initial="ROOT">  
  <state id="ROOT"> 
    <initial>
      <transition target="ROOT::STANDBY"/>
    </initial>  
    <state id="ROOT::OPERATIONAL"> 
      <initial>
        <transition target="ROOT::OPERATIONAL::INPOS"/>
      </initial>  
      <state id="ROOT::OPERATIONAL::INPOS"> 
        <transition event="AUTO_CMD" target="ROOT::OPERATIONAL::AUTOPOS"/>  
        <transition event="SETPOS_CMD"> 
          <customActionDomain:SetPosition name="SetPosition"/> 
        </transition> 
      </state>  
      <state id="ROOT::OPERATIONAL::AUTOPOS"> 
        <invoke targettype="java" id="DoComputePos" src="SMActivityDoComputePos.java"/>  
        <transition event="SETPOS_CMD" target="ROOT::OPERATIONAL::INPOS"> 
          <customActionDomain:SetPosition name="SetPosition"/> 
        </transition>  
        <transition event="STOP_CMD" target="ROOT::OPERATIONAL::INPOS"/>  
        <transition event="TIMEOUT_INT" target="ROOT::OPERATIONAL::INPOS"/> 
      </state>  
      <state id="ROOT::OPERATIONAL::FAILURE"> 
        <transition event="HWOK_SIG" target="ROOT::OPERATIONAL::INPOS"/>  
        <transition event="SETPOS_CMD" target="ROOT::OPERATIONAL::INPOS"> 
          <customActionDomain:SetPosition name="SetPosition"/> 
        </transition> 
      </state>  
      <transition event="RESET_CMD" target="ROOT::STANDBY"> 
        <customActionDomain:ResetHandler name="ResetHandler"/> 
      </transition>  
      <transition event="ERRHW_SIG" target="ROOT::OPERATIONAL::FAILURE"/>  
      <transition event="ERR_INT" target="ROOT::OPERATIONAL::FAILURE"/>  
      <transition event="DISABLE_CMD" target="ROOT::STANDBY::READY"> 
        <customActionDomain:ZeroOutputs name="ZeroOutputs"/> 
      </transition> 
    </state>  
    <state id="ROOT::STANDBY"> 
      <initial>
        <transition target="ROOT::STANDBY::NOTREADY"/>
      </initial>  
      <state id="ROOT::STANDBY::NOTREADY"> 
        <transition event="INIT_CMD" target="ROOT::STANDBY::INITIALIZING"/> 
      </state>  
      <state id="ROOT::STANDBY::INITIALIZING"> 
        <onentry> 
          <customActionDomain:InitStart name="InitStart"/> 
        </onentry>  
        <invoke targettype="java" id="DoInit" src="SMActivityDoInit.java"/>  
        <transition event="INITDONE_INT" target="ROOT::STANDBY::READY"> 
          <customActionDomain:InitComplete name="InitComplete"/> 
        </transition>  
        <transition event="ERRINIT_INT" target="ROOT::STANDBY::NOTREADY"> 
          <customActionDomain:InitAbort name="InitAbort"/> 
        </transition>  
        <transition event="STOP_CMD" target="ROOT::STANDBY::NOTREADY"> 
          <customActionDomain:InitAbort name="InitAbort"/> 
        </transition>  
        <transition event="RESET_CMD" target="ROOT::STANDBY::NOTREADY"> 
          <customActionDomain:InitAbort name="InitAbort"/> 
        </transition>  
        <transition event="INIT_CMD" target="ROOT::STANDBY::INITIALIZING"/> 
      </state>  
      <state id="ROOT::STANDBY::READY"> 
        <transition event="RESET_CMD" target="ROOT::STANDBY::NOTREADY"> 
          <customActionDomain:ResetHandler name="ResetHandler"/> 
        </transition>  
        <transition event="ENABLE_CMD" target="ROOT::OPERATIONAL"/>  
        <transition event="INIT_CMD" target="ROOT::STANDBY::INITIALIZING"/> 
      </state>  
      <state id="ROOT::STANDBY::FAILURE"> 
        <transition event="HWOK_SIG" target="ROOT::STANDBY::NOTREADY"/> 
      </state>  
      <transition event="ERRHW_SIG" target="ROOT::STANDBY::FAILURE"> 
        <customActionDomain:ErrorHandler name="ErrorHandler"/> 
      </transition> 
    </state>  
    <transition event="EXIT_CMD" target="OFF"/>  
    <transition event="RESET_CMD"> 
      <customActionDomain:ResetHandler name="ResetHandler"/> 
    </transition>  
    <transition event="STATUS_CMD"> 
      <customActionDomain:StatusHandler name="StatusHandler"/> 
    </transition>  
    <transition event="STOP_CMD"> 
      <customActionDomain:StopHandler name="StopHandler"/> 
    </transition> 
  </state>  
  <final id="OFF"/> 
</scxml>
